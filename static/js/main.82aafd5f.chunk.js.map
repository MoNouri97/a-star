{"version":3,"sources":["components/grid/node/Node.tsx","components/grid/node/NodeInterface.tsx","components/Algorithm/A*.tsx","components/grid/Grid.tsx","components/Algorithm/RandomWalls.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Node","data","mouseDown","mouseUp","mouseEnter","style","delay","animationDelay","className","type","onMouseDown","event","preventDefault","row","col","onMouseUp","onMouseEnter","equalNodes","a","b","createNode","gCost","Infinity","hCost","fCost","previous","sortByFCost","open","sort","getNeighbors","height","width","list","i","j","distanceTo","node","end","rowDifference","Math","abs","colDifference","W","H","START","END","WALL","SLOW_SPEED","FAST_SPEED","Grid","toggleWall","setGrid","grid","map","gRow","gNode","placeSpecialNode","console","log","start","current","clearGrid","handleMouseDown","setMouseIsPressed","cursor","setCursor","handleMouseUpOrLeave","handleMouseUp","handleMouseEnter","mouseIsPressed","useState","defaultPoints","currentRow","push","getInitialGrid","useRef","searchSpeed","pathSpeed","onMouseLeave","htmlFor","defaultValue","onChange","target","value","onClick","path","length","closed","lowestFCost","pop","undefined","forEach","neighbor","neighborNode","newGCost","aStar","finalDelay","res","n","inPath","shortestPath","parent","constructPath","setTimeout","indexOf","alert","newGrid","cols","rows","wall","random","randomWalls","key","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.82aafd5f.chunk.js","sourcesContent":["import React from 'react';\n\nimport './node.css';\nimport { INode } from './NodeInterface';\n\ninterface Props {\n\tdata: INode;\n\tmouseDown: (row: number, col: number) => void;\n\tmouseUp: (row: number, col: number) => void;\n\tmouseEnter: (row: number, col: number) => void;\n}\n\nexport const Node: React.FC<Props> = ({\n\tdata,\n\tmouseDown,\n\tmouseUp,\n\tmouseEnter,\n}) => {\n\treturn (\n\t\t<div\n\t\t\tstyle={data.delay ? { animationDelay: data.delay + 'ms' } : {}}\n\t\t\tclassName={`node ${data.type}`}\n\t\t\tonMouseDown={(event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tmouseDown(data.row, data.col);\n\t\t\t}}\n\t\t\tonMouseUp={() => mouseUp(data.row, data.col)}\n\t\t\tonMouseEnter={() => mouseEnter(data.row, data.col)}\n\t\t></div>\n\t);\n};\n","export interface INode {\n\tcol: number;\n\trow: number;\n\ttype: string;\n\tgCost: number;\n\thCost: number;\n\tfCost: number;\n\tprevious: { row: number; col: number } | null;\n\tdelay?: number | string;\n}\nexport const equalNodes = (a: INode, b: INode) => {\n\treturn a.col === b.col && a.row === b.row;\n};\n\nexport const createNode = (row: number, col: number) => {\n\tconst node: INode = {\n\t\tcol,\n\t\trow,\n\t\ttype: ' ', // [wall,visited (closed), calculated (open) , '' (basic),start,end]\n\t\tgCost: Infinity,\n\t\thCost: Infinity,\n\t\tfCost: Infinity,\n\t\tprevious: null,\n\t};\n\n\treturn node;\n};\n","import { INode } from '../grid/node/NodeInterface';\n\nconst COST = 10;\nconst DIAG_COST = 14;\n\nexport const aStar = (grid: INode[][], start: INode, end: INode) => {\n\tconst height = grid.length;\n\tconst width = grid[0].length;\n\n\tlet open: INode[] = [];\n\tlet closed: INode[] = [];\n\tlet current: INode;\n\tlet path: INode[] = [];\n\n\tstart.gCost = 0;\n\topen.push(start);\n\n\twhile (open.length > 0) {\n\t\t// get node with lowest fCost\n\t\tsortByFCost(open);\n\t\tlet lowestFCost = open.pop();\n\t\tif (lowestFCost === undefined) return;\n\t\tcurrent = lowestFCost;\n\t\tif (current.type !== 'start' && current.type !== 'end') {\n\t\t\tcurrent.type = 'closed';\n\t\t\tgrid[current.row][current.col].type = 'closed';\n\t\t}\n\n\t\tclosed = [...closed, current];\n\t\t//track open and close\n\t\tpath = [...path, current];\n\t\tif (current.col === end.col && current.row === end.row) {\n\t\t\tconsole.log('path found');\n\n\t\t\treturn path;\n\t\t}\n\t\tlet neighbors = getNeighbors(current.row, current.col, height, width);\n\n\t\tneighbors.forEach((neighbor) => {\n\t\t\tconst neighborNode = grid[neighbor.row][neighbor.col];\n\t\t\tif (neighborNode.type === 'wall' || neighborNode.type === 'closed')\n\t\t\t\treturn;\n\n\t\t\tconst newGCost = current.gCost + distanceTo(neighborNode, current);\n\n\t\t\tif (neighborNode.gCost > newGCost) {\n\t\t\t\tneighborNode.gCost = newGCost;\n\t\t\t\tneighborNode.hCost = distanceTo(neighborNode, end);\n\t\t\t\tneighborNode.fCost = neighborNode.gCost + neighborNode.hCost;\n\t\t\t\tneighborNode.previous = { row: current.row, col: current.col };\n\t\t\t\tif (neighborNode.type !== 'open') {\n\t\t\t\t\tneighborNode.type = 'open';\n\t\t\t\t\tgrid[neighborNode.row][neighborNode.col].type = 'open';\n\t\t\t\t\topen.push(neighborNode);\n\t\t\t\t\t// path = [...path, neighborNode];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tconsole.log('path not found');\n\n\treturn path;\n};\n\nconst sortByFCost = (open: INode[]) => {\n\t/**\n\t * sorting by fCost , if equal by hCost\n\t * a & b are flipped to sort it in descending order\n\t */\n\topen.sort((a, b) => {\n\t\tif (a.fCost !== b.fCost) return b.fCost - a.fCost;\n\t\treturn b.hCost - a.hCost;\n\t});\n};\n\nconst getNeighbors = (\n\trow: number,\n\tcol: number,\n\theight: number,\n\twidth: number,\n) => {\n\tlet list: { row: number; col: number }[] = [];\n\tfor (let i = -1; i < 2; i++) {\n\t\tfor (let j = -1; j < 2; j++) {\n\t\t\tif (i === 0 && j === 0) continue;\n\t\t\tif (row + i >= height || row + i < 0) continue;\n\t\t\tif (col + j >= width || col + j < 0) continue;\n\t\t\tlist = [...list, { row: row + i, col: col + j }];\n\t\t}\n\t}\n\n\treturn list;\n};\n\nconst distanceTo = (node: INode, end: INode) => {\n\tconst rowDifference = Math.abs(node.row - end.row);\n\tconst colDifference = Math.abs(node.col - end.col);\n\n\t/**\n\t * if x > y : 14y + 10(x - y)\n\t */\n\tif (rowDifference > colDifference)\n\t\treturn DIAG_COST * colDifference + COST * (rowDifference - colDifference);\n\n\treturn DIAG_COST * rowDifference + COST * (colDifference - rowDifference);\n};\n","import React, { useState, useRef, ChangeEvent } from 'react';\n\nimport './Grid.css';\nimport { Node } from './node/Node';\nimport { INode, equalNodes, createNode } from './node/NodeInterface';\nimport { aStar } from '../Algorithm/A*';\nimport { randomWalls } from '../Algorithm/RandomWalls';\n\n// grid size\nconst W = 40;\nconst H = 20;\n// cursor and nodes\nconst START = 'start';\nconst END = 'end';\nconst WALL = 'wall';\n// animation Speed\nconst SLOW_SPEED = {\n\tSEARCH: 50,\n\tPATH: 100,\n};\nconst FAST_SPEED = {\n\tSEARCH: 20,\n\tPATH: 50,\n};\n\nexport const Grid = () => {\n\t// Helpers\n\tconst getInitialGrid = (defaultPoints: boolean = true) => {\n\t\tconst grid = [];\n\t\tfor (let row = 0; row < H; row++) {\n\t\t\tconst currentRow = [];\n\t\t\tfor (let col = 0; col < W; col++) {\n\t\t\t\tcurrentRow.push(createNode(row, col));\n\t\t\t\tif (defaultPoints) {\n\t\t\t\t\tif (row === H / 2 && col === 1) currentRow[col].type = START;\n\t\t\t\t\tif (row === H / 2 && col === W - 2) currentRow[col].type = END;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgrid.push(currentRow);\n\t\t}\n\t\treturn grid;\n\t};\n\n\tconst toggleWall = (row: number, col: number) => {\n\t\tsetGrid(\n\t\t\tgrid.map((gRow) =>\n\t\t\t\tgRow.map((gNode) => {\n\t\t\t\t\tif (gNode.col !== col || gNode.row !== row) return gNode;\n\n\t\t\t\t\tif (gNode.type === WALL) gNode.type = ' ';\n\t\t\t\t\telse if (gNode.type === ' ') gNode.type = WALL;\n\t\t\t\t\treturn gNode;\n\t\t\t\t}),\n\t\t\t),\n\t\t);\n\t};\n\n\tconst placeSpecialNode = (row: number, col: number, type: string = START) => {\n\t\tconsole.log('place', type);\n\n\t\tsetGrid(\n\t\t\tgrid.map((gRow) =>\n\t\t\t\tgRow.map((gNode) => {\n\t\t\t\t\tif ((gNode.col !== col || gNode.row !== row) && gNode.type === type) {\n\t\t\t\t\t\tgNode.type = ' ';\n\t\t\t\t\t\treturn gNode;\n\t\t\t\t\t}\n\t\t\t\t\tif (gNode.type !== ' ') return gNode;\n\t\t\t\t\tif (gNode.col !== col || gNode.row !== row) return gNode;\n\n\t\t\t\t\tgNode.type = type;\n\t\t\t\t\tif (type === START) start.current = gNode;\n\t\t\t\t\tif (type === END) end.current = gNode;\n\t\t\t\t\treturn gNode;\n\t\t\t\t}),\n\t\t\t),\n\t\t);\n\t};\n\n\t/**\n\t * used to copy data from the result of the algorithm to the grid\n\t */\n\tconst inPath = (node: INode, path: INode[]) => {\n\t\tfor (let i = 0; i < path.length; i++) {\n\t\t\tconst n = path[i];\n\t\t\tif (n.col === node.col && n.row === node.row)\n\t\t\t\treturn {\n\t\t\t\t\tprevious: n.previous,\n\t\t\t\t\ttype: n.type,\n\t\t\t\t\tdelay: i * searchSpeed.current,\n\t\t\t\t};\n\t\t}\n\t\treturn null;\n\t};\n\tconst constructPath = (node: INode) => {\n\t\tlet path = [node];\n\t\tlet current = path[0];\n\t\twhile (current !== start.current) {\n\t\t\tconst parent = current.previous;\n\t\t\tif (parent === null) {\n\t\t\t\treturn path;\n\t\t\t}\n\t\t\tcurrent = grid[parent.row][parent.col];\n\t\t\tpath = [current, ...path];\n\t\t}\n\t\treturn path;\n\t};\n\n\tconst clearGrid = () => {\n\t\tsetGrid(\n\t\t\tgrid.map((row, i) =>\n\t\t\t\trow.map((node, j) => {\n\t\t\t\t\tnode = createNode(i, j);\n\n\t\t\t\t\tif (equalNodes(node, start.current)) node.type = START;\n\t\t\t\t\tif (equalNodes(node, end.current)) node.type = END;\n\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t),\n\t\t);\n\t};\n\tconst clearGridKeepWalls = () => {\n\t\tsetGrid(\n\t\t\tgrid.map((row, i) =>\n\t\t\t\trow.map((node, j) => {\n\t\t\t\t\tif (node.type !== WALL) {\n\t\t\t\t\t\tnode = createNode(i, j);\n\t\t\t\t\t}\n\t\t\t\t\tif (equalNodes(node, start.current)) node.type = START;\n\t\t\t\t\tif (equalNodes(node, end.current)) node.type = END;\n\n\t\t\t\t\treturn node;\n\t\t\t\t}),\n\t\t\t),\n\t\t);\n\t};\n\n\t// events\n\tconst handleMouseDown = (row: number, col: number) => {\n\t\tsetMouseIsPressed(true);\n\n\t\tif (grid[row][col].type === START) {\n\t\t\tsetCursor(START);\n\t\t\treturn;\n\t\t}\n\t\tif (grid[row][col].type === END) {\n\t\t\tsetCursor(END);\n\t\t\treturn;\n\t\t}\n\n\t\tif (cursor === WALL) {\n\t\t\ttoggleWall(row, col);\n\t\t\treturn;\n\t\t}\n\t};\n\tconst handleMouseUpOrLeave = () => {\n\t\tsetMouseIsPressed(false);\n\t};\n\tconst handleMouseUp = (row: number, col: number) => {\n\t\tif (cursor === START) {\n\t\t\tplaceSpecialNode(row, col, START);\n\t\t\tsetCursor(WALL);\n\t\t}\n\t\tif (cursor === END) {\n\t\t\tplaceSpecialNode(row, col, END);\n\t\t\tsetCursor(WALL);\n\t\t}\n\t\tsetMouseIsPressed(false);\n\t};\n\n\tconst handleMouseEnter = (row: number, col: number) => {\n\t\tif (!mouseIsPressed) return;\n\n\t\tif (cursor === WALL) toggleWall(row, col);\n\t\tif (cursor === START) placeSpecialNode(row, col, START);\n\t\tif (cursor === END) placeSpecialNode(row, col, END);\n\t};\n\tconst handleVisualize = () => {\n\t\tconst cloneGrid = grid.map((row) => row.map((node) => node));\n\t\t// get the closed path\n\t\tconst path = aStar(cloneGrid, start.current, end.current);\n\t\tif (path === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet finalDelay = 0;\n\t\tsetGrid(\n\t\t\tgrid.map((gRow) =>\n\t\t\t\tgRow.map((gNode) => {\n\t\t\t\t\tconst res = inPath(gNode, path);\n\t\t\t\t\tif (res !== null) {\n\t\t\t\t\t\tgNode.type = res.type + '';\n\t\t\t\t\t\tgNode.delay = res.delay;\n\t\t\t\t\t\tgNode.previous = res.previous;\n\t\t\t\t\t\tfinalDelay = res.delay > finalDelay ? res.delay : finalDelay;\n\t\t\t\t\t}\n\t\t\t\t\t// keep the end node\n\t\t\t\t\tif (equalNodes(gNode, end.current)) {\n\t\t\t\t\t\tgNode.type = END;\n\t\t\t\t\t}\n\t\t\t\t\treturn gNode;\n\t\t\t\t}),\n\t\t\t),\n\t\t);\n\t\tif (!equalNodes(path[path.length - 1], end.current)) {\n\t\t\talert('no path found');\n\t\t\treturn;\n\t\t}\n\n\t\tconst shortestPath = constructPath(path[path.length - 2]);\n\t\t// animate shortest path\n\t\tsetTimeout(() => {\n\t\t\tsetGrid(\n\t\t\t\tgrid.map((gRow) =>\n\t\t\t\t\tgRow.map((gNode) => {\n\t\t\t\t\t\tconst i = shortestPath.indexOf(gNode);\n\t\t\t\t\t\tif (i > -1) {\n\t\t\t\t\t\t\tif (gNode.type !== START && gNode.type !== END) {\n\t\t\t\t\t\t\t\tgNode.type = 'path';\n\t\t\t\t\t\t\t\tgNode.delay = i * pathSpeed.current;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn gNode;\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t);\n\t\t}, finalDelay + 500);\n\t};\n\n\tconst handleRandomMaze = () => {\n\t\tconst newGrid = randomWalls(W, H);\n\t\tclearGrid();\n\t\tsetTimeout(() => {\n\t\t\tsetGrid(\n\t\t\t\tgrid.map((gRow, i) =>\n\t\t\t\t\tgRow.map((gNode, j) => {\n\t\t\t\t\t\tgNode = createNode(i, j);\n\n\t\t\t\t\t\tif (equalNodes(gNode, start.current)) {\n\t\t\t\t\t\t\tgNode.type = START;\n\t\t\t\t\t\t\treturn gNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (equalNodes(gNode, end.current)) {\n\t\t\t\t\t\t\tgNode.type = END;\n\t\t\t\t\t\t\treturn gNode;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst res = newGrid[i][j];\n\t\t\t\t\t\tif (!res.wall) {\n\t\t\t\t\t\t\treturn gNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgNode.type = WALL;\n\t\t\t\t\t\tgNode.delay = res.delay;\n\n\t\t\t\t\t\treturn gNode;\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t);\n\t\t}, 20);\n\t};\n\tconst handleSpeedChange = (event: ChangeEvent<HTMLSelectElement>) => {\n\t\tconsole.log(event.target.value);\n\n\t\tif (event.target.value === 'fast') {\n\t\t\tsearchSpeed.current = FAST_SPEED.SEARCH;\n\t\t\tpathSpeed.current = FAST_SPEED.PATH;\n\t\t}\n\t\tif (event.target.value === 'slow') {\n\t\t\tsearchSpeed.current = SLOW_SPEED.SEARCH;\n\t\t\tpathSpeed.current = SLOW_SPEED.PATH;\n\t\t}\n\t};\n\t// state & refs\n\tconst [grid, setGrid] = useState(getInitialGrid());\n\tconst start = useRef(grid[H / 2][1]);\n\tconst end = useRef(grid[H / 2][W - 2]);\n\tconst [mouseIsPressed, setMouseIsPressed] = useState(false);\n\tconst [cursor, setCursor] = useState(WALL);\n\tconst searchSpeed = useRef(FAST_SPEED.SEARCH);\n\tconst pathSpeed = useRef(FAST_SPEED.PATH);\n\n\treturn (\n\t\t<div\n\t\t\tclassName='layout'\n\t\t\tonMouseUp={handleMouseUpOrLeave}\n\t\t\tonMouseLeave={handleMouseUpOrLeave}\n\t\t>\n\t\t\t<div className='main columns'>\n\t\t\t\t<div className='right-side column'>\n\t\t\t\t\t<div className='btn-section'>\n\t\t\t\t\t\t<div className='subtitle is-6'>Visualize Algorithm</div>\n\t\t\t\t\t\t<div className='field mb-3'>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<label htmlFor='select'>Speed : </label>\n\t\t\t\t\t\t\t\t<div className='select is-small'>\n\t\t\t\t\t\t\t\t\t<select defaultValue='fast' onChange={handleSpeedChange}>\n\t\t\t\t\t\t\t\t\t\t<option value='slow'>Slow</option>\n\t\t\t\t\t\t\t\t\t\t<option value='fast'>Fast</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button' onClick={handleVisualize}>\n\t\t\t\t\t\t\tA*\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='subtitle is-6'>Grid</div>\n\t\t\t\t\t\t<div className='button' onClick={clearGrid}>\n\t\t\t\t\t\t\tClear Walls\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='button' onClick={clearGridKeepWalls}>\n\t\t\t\t\t\t\tReset Path\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='subtitle is-6'>Maze Generation</div>\n\t\t\t\t\t\t<div className='button' onClick={handleRandomMaze}>\n\t\t\t\t\t\t\tRandom\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tclassName='grid box column is-12 is-9-desktop'\n\t\t\t\t\t// style={{ width: W * 26 + 'px' }}\n\t\t\t\t>\n\t\t\t\t\t{grid.map((row, i) => (\n\t\t\t\t\t\t<div className='row' key={i}>\n\t\t\t\t\t\t\t{row.map((node, j) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<Node\n\t\t\t\t\t\t\t\t\t\tdata={node}\n\t\t\t\t\t\t\t\t\t\tmouseDown={handleMouseDown}\n\t\t\t\t\t\t\t\t\t\tmouseUp={handleMouseUp}\n\t\t\t\t\t\t\t\t\t\tmouseEnter={handleMouseEnter}\n\t\t\t\t\t\t\t\t\t\tkey={i + ',' + j}\n\t\t\t\t\t\t\t\t\t></Node>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","export const randomWalls: (\n\tcols: number,\n\trows: number,\n) => {\n\twall: boolean;\n\tdelay: number;\n}[][] = (cols: number, rows: number) => {\n\tconst grid = [];\n\tfor (let row = 0; row < rows; row++) {\n\t\tconst currentRow = [];\n\t\tfor (let col = 0; col < cols; col++) {\n\t\t\tcurrentRow.push({\n\t\t\t\twall: false,\n\t\t\t\tdelay: 0,\n\t\t\t});\n\t\t\tif (Math.random() < 0.2) {\n\t\t\t\tcurrentRow[col].delay = col * 100;\n\t\t\t\tcurrentRow[col].wall = true;\n\t\t\t}\n\t\t}\n\t\tgrid.push(currentRow);\n\t}\n\treturn grid;\n};\n","import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\nimport { Grid } from './components/grid/Grid';\n\nfunction App() {\n\treturn (\n\t\t<div className='App'>\n\t\t\t<Grid></Grid>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '../node_modules/bulma/css/bulma.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}